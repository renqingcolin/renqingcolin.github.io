---
layout: post
title: 浅析人脸检测之Haar分类器方法
categories: Blog
description: 浅析人脸检测之Haar分类器方法
keywords: 浅析人脸检测, Haar特征
---

### 简述

《Rapid Object Detection using a Boosted Cascade of Simple Features》是由Viola和Jones两位大牛2001年在IEEE上发表的关于人脸检测的文章。
文章提到这篇文章主要内容有以下三点：
>1. 对图像提取haar特征，为了更快的计算出这些特征，提出了积分图方法，此方法能在常数时间内计算出任意一个haar特征。
>2. 由于对于每个图的haar特征数量是非常大的，本文提出了一种基于adboost的特征选择方法。
>3. 为了更快速的检测，提出了cascade结构，通过模型的级联，快速甄别出非人脸区。

### 特征

文中使用了三类特征，见下图：

![图一](/images/blog/haar_p.jpg)

计算方法就是白色区域的减去灰色区域的像素和。如何快速的计算出每个矩形块的像素和呢？文中提出了使用积分图方法。
计算方法如下：
![](/images/blog/haar_2.jpg)
我的理解就是记住之前计算过的和，避免重复计算。这样就知道每个像素点其左上的像素和了。

举个例子：
![](/images/blog/haar_3.jpg)
A、B、C、D分别代表想要矩形的像素和。
点1的像素和为A，点2的像素和为A+B，点3的像素和为A+B+C，点4的像素和为A+B+C+D，所以矩形D的像素和可以用4+1-（2+3）表示。由于积分图方法，我们知道每个点的像素和，所以能很快的计算出矩形D的像素和。
前面提到的四种Haar特征，两矩阵的白灰差只需要6个点，三矩阵的需要8个点，四矩阵的需要9个点。




