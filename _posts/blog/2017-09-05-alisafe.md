---
layout: post
title: 阿里云安全大赛
categories: 比赛
description: 阿里云安全大赛
keywords: 安全，机器学习
---

# 第二届阿里云安全算法挑战赛
## 《扫描爆破拦截》

赛题详情见：[https://tianchi.aliyun.com/competition/information.htm?spm=5176.100067.5678.2.7c560628QDU4eu&raceId=231612](https://tianchi.aliyun.com/competition/information.htm?spm=5176.100067.5678.2.7c560628QDU4eu&raceId=231612)

### 特征提取

主要从三分方向：

1. 用户端口维度

2. 用户维度 

3. 端口维度

### 分端口训练

考虑到每个端口的正负样本比例不同，所以将四个端口分开训练。


### 对于正负样本比例不均衡问题的解决

之前就发现训练集有这个问题。下边展示了各端口的正负样本比例。

| 端口 | 正样本数 | 负样本数 | 正负比例|
| :----:| :----:| :----:| :----:|
| 21  | 1267|168110|1:132|
|  22 |4642 |96995|1:20|
|3306|279|108128|1:387|
|3389|2663|89069|1:33|

网上找很多都是采用欠采样和过采样来处理的，感觉还是比较疑惑，怕这样采样不好，会破坏数据，所以今天找了之前在公司的导师，以下是宇哥的原话：
>有一种模型上比较猥琐的方法，你可以试试。把好样本分N份，+ 坏样本，正负比例搞的10：1这种。然后训练n个小模型，再做一层级联。

为了验证他的方法，我对21号端口进行了类型处理，将负例分成了十份，这里只是根据标号简单的分为了10份，这种方法还是有待考究的（和队友还商量可以有放回的采样10份，这个之后再验证吧）。

查看每个小模型的结果如下

![](/images/posts/competition/littemode.jpg)

可以看出模型的效果并不好，正例的精确率只有56%。

